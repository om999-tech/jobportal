{% extends 'base.html' %}

{% block title %}My Applications{% endblock %}
{% block header_title %}My Job Applications{% endblock %}

{% block content %}
  <h3 class="mb-4">My Job Applications</h3>

  {% if applications %}
    <div class="row">
      {% for app in applications %}
        <div class="col-sm-12 col-md-6 col-lg-4 mb-4">
          <div class="card h-100 shadow-sm">
            <div class="card-body d-flex flex-column justify-content-between">
              <div>
                <h5 class="card-title text-primary">{{ app.job.title }}</h5>
                <p class="card-text text-muted">{{ app.job.description}}...</p>
              </div>
              <div class="mt-3">
                <span class="badge 
                  {% if app.status == 'Pending' %}bg-warning text-dark
                  {% elif app.status == 'Accepted' %}bg-success
                  {% elif app.status == 'Rejected' %}bg-danger
                  {% else %}bg-secondary{% endif %}">
                  {{ app.status }}
                </span>
                <div class="text-muted small mt-1">Applied on {{ app.applied_at.strftime('%Y-%m-%d') }}</div>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="alert alert-info">You haven't applied to any jobs yet.</div>
  {% endif %}
{% endblock %}
